
# REST Client tests on http://localhost:8080/ server
# Use docker-composer up --build to launch the test server 
@baseUrl = http://localhost:8080
### dev
#@token = 0x8276d5e4133eba2043a2a9fccc55284c1243f1d4
### prod thelao
@token = 0x8f56682a50becb1df2fb8136954f2062871bc7fc
@space = thelao
### prod flamingo
#@token = 0x43310bd1c8f261ee7b9025662207ed95329aa193

### Health Check (root)
GET {{baseUrl}}/

### Health Check (api)
GET {{baseUrl}}/api

### Migration(api)
PUT {{baseUrl}}/api/{{space}}/migrate HTTP/1.1

### Create a General Proposal 1
POST {{baseUrl}}/api/message HTTP/1.1
Content-Type: application/json

{
	"address": "0xEd7B3f2902f2E1B17B027bD0c125B674d293bDA0",
	"msg": "{\"payload\":{\"name\":\"My first proposal\",\"body\":\"The proposal description is written here\",\"choices\":[\"Yes\",\"No\"],\"start\":\"1610383585\",\"end\":\"1610387185\",\"snapshot\":1,\"metadata\":{\"private\":1,\"type\":\"general\",\"subType\":\"general\"},\"nameHash\":\"0x5fb543f8b091ff403d63b09fe3e07ac3bbea966e8f27f68a97c613897dcaff8b\",\"bodyHash\":\"0xee5b1ff80a6c5f67203a2b5ee76add9fb87ad2cf35d88b7ea6284ab1f99812eb\"},\"timestamp\":\"1610383585\",\"token\":\"0x8f56682a50becb1df2fb8136954f2062871bc7fc\",\"space\":\"test-space\",\"type\":\"proposal\",\"actionId\":\"0x4539Bac77398aF6d582842F174464b29cf3887ce\",\"version\":\"0.2.0\",\"chainId\":1337,\"verifyingContract\":\"0xcFc2206eAbFDc5f3d9e7fA54f855A8C15D196c05\",\"spaceHash\":\"0x43728127e62962888e5037562ea09ff02e1533a40a9d70b2d8069e5df847306b\"}",
	"sig": "0x2198b3daa91060e50c799e1c85edfd9934e6616a8c6043de8c442bae91ef87653d8f95b293513dca850d895ca2c802a86a956f7efa7185f6751fff74e8a0ad0a1b"
}
### Get All proposals based on space name
GET {{baseUrl}}/api/{{space}}/proposals HTTP/1.1

### Vote YES on General Proposal 1
POST {{baseUrl}}/api/message HTTP/1.1
Content-Type: application/json

{"address":"0x3098C683320703B2B0922f7a2CE67D2ee321EaA9","msg":"{\"payload\":{\"choice\":1,\"proposal\":\"QmZSVGjAyQPQtsLjBmmoPqNJar2haGTM2yQJK9kfYW81PB\",\"metadata\":{\"memberAddress\":\"0xDe6ab16a4015c680daab58021815D09ddB57db8E\"},\"metadataHash\":\"d26c1dcdc2a5339c34b3d1cd67a7a20b7e7450f3f4f371d104b9337fb8ef72a2\"},\"timestamp\":\"1607029136\",\"token\":\"0x8f56682a50becb1df2fb8136954f2062871bc7fc\",\"space\":\"myspace\",\"type\":\"vote\",\"version\":\"0.2.0\",\"chainId\":5777,\"verifyingContract\":\"0xcFc2206eAbFDc5f3d9e7fA54f855A8C15D196c05\",\"versionHash\":\"177d57055bb57caacc5f72e04f893f984b95e26f8749bff5b374a6d1548ea727\",\"spaceHash\":\"d2e1a4108d7426eff706e6f9fdaeeeccb42c2e8ea8e235a368ba5f5d746dd8af\"}","sig":"0x754a0afec6a59106cbe17ef305dae8aafab233c861bec5c8b85a20718aba66cd2ea7d00529b617cb8bf2c46929612277c1d93bc5044ddb2fe75a42b449b23a221c"}